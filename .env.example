# L{CORE} Environment Configuration
#
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# This file configures BOTH services when using docker-compose.yml
# For separate deployments, see attestor/.env.example and cartesi/ docs.

# =============================================================================
# WALLET (Required)
# =============================================================================
# Mnemonic phrase for transaction signing
# Generate: Use any BIP39 mnemonic generator
# IMPORTANT: Use a dedicated wallet, not your main wallet!
MNEMONIC=

# =============================================================================
# BLOCKCHAIN RPC (Required)
# =============================================================================
# Get endpoints from: Alchemy, Infura, QuickNode, etc.
# Arbitrum Sepolia endpoints shown below

# HTTP endpoint for transactions
LCORE_RPC_URL=https://arb-sepolia.g.alchemy.com/v2/YOUR_API_KEY

# WebSocket endpoint for real-time events
LCORE_WS_URL=wss://arb-sepolia.g.alchemy.com/v2/YOUR_API_KEY

# =============================================================================
# CONTRACT ADDRESSES (Required)
# =============================================================================
# After running: cd cartesi && npx cartesi build && npx cartesi deploy

# DApp contract address (from deploy output)
LCORE_DAPP_ADDRESS=

# Authority contract address (from deploy output)
CARTESI_AUTHORITY_ADDRESS=

# History contract address (from deploy output)
CARTESI_HISTORY_ADDRESS=

# =============================================================================
# DATABASE (Required for Cartesi Node)
# =============================================================================
# PostgreSQL connection string for Cartesi node state
# Format: postgresql://user:password@host:port/database
CARTESI_POSTGRES_ENDPOINT=

# =============================================================================
# INPUT ENCRYPTION (Required for Device Attestation)
# =============================================================================
# These keys encrypt device data BEFORE it hits the blockchain.
# Only ciphertext appears on-chain, protecting sensor data privacy.
#
# Generate keypair:
# node -e "const nacl=require('tweetnacl');const kp=nacl.box.keyPair();console.log('LCORE_INPUT_PUBLIC_KEY='+Buffer.from(kp.publicKey).toString('base64'));console.log('LCORE_INPUT_PRIVATE_KEY='+Buffer.from(kp.secretKey).toString('base64'))"
#
# PUBLIC key goes here (Attestor uses to encrypt)
LCORE_INPUT_PUBLIC_KEY=

# PRIVATE key goes in cartesi/Dockerfile (baked into machine image)
# See /SECURITY-ACCESS-CONTROL.md for instructions

# =============================================================================
# OUTPUT ENCRYPTION (Optional)
# =============================================================================
# Encrypt Cartesi query responses. Attestor decrypts before returning to client.
#
# Generate keypair (same command as above, different keys):
# node -e "const nacl=require('tweetnacl');const kp=nacl.box.keyPair();console.log('LCORE_ADMIN_PUBLIC_KEY='+Buffer.from(kp.publicKey).toString('base64'));console.log('LCORE_ADMIN_PRIVATE_KEY='+Buffer.from(kp.secretKey).toString('base64'))"

LCORE_ADMIN_PUBLIC_KEY=
LCORE_ADMIN_PRIVATE_KEY=

# =============================================================================
# OPTIONAL - Defaults are usually fine
# =============================================================================

# InputBox contract (standard for Arbitrum Sepolia)
LCORE_INPUTBOX_ADDRESS=0x59b22D57D4f067708AB0c00552767405926dc768

# Chain ID (421614 = Arbitrum Sepolia)
CARTESI_BLOCKCHAIN_ID=421614

# InputBox deployment block (for syncing)
CARTESI_INPUTBOX_BLOCK=2838409

# Epoch length in blocks
CARTESI_EPOCH_LENGTH=43200

# Log level (debug, info, warn, error)
LOG_LEVEL=info
